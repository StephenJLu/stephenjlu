import{r as o,j as i}from"./components-BRXnhjxE.js";import{d as V,a as C,n as z}from"./config-rBykOrRa.js";import{u as A,B as D,I as O}from"./loader-3TJg4M3U.js";import{u as Y}from"./transition-BNkJdlDQ.js";function G(){const[e,s]=o.useState(!1);return o.useEffect(()=>{s(!0)},[]),e}function J(e,s,a={},n=!0){const[c,r]=o.useState(!1),[t,l]=o.useState(!1);return o.useEffect(()=>{if(!(e!=null&&e.current))return;const d=new IntersectionObserver(([u])=>{const{isIntersecting:m,target:p}=u;r(m),m&&s&&(d.unobserve(p),l(!0))},a);return!t&&n&&d.observe(e.current),()=>d.disconnect()},[e,s,a,t,n]),c}function we(){const e=o.useRef(()=>({w:1280,h:800})),s=o.useCallback(()=>{let t=document.createElement("div");t.style.position="fixed",t.style.height="100vh",t.style.width=0,t.style.top=0,document.documentElement.appendChild(t),e.current.w=window.innerWidth,e.current.h=t.offsetHeight,document.documentElement.removeChild(t),t=null},[]),a=o.useCallback(()=>(navigator==null?void 0:navigator.userAgent.match(/iphone|ipod|ipad/i))?(s(),e.current.h):window.innerHeight,[s]),n=o.useCallback(()=>({width:window.innerWidth,height:a()}),[a]),[c,r]=o.useState(e.current);return o.useEffect(()=>{const t=()=>{r(n())};return window.addEventListener("resize",t),t(),()=>{window.removeEventListener("resize",t)}},[n]),c}async function K({src:e,srcSet:s,sizes:a}){return new Promise((n,c)=>{try{if(!e&&!s)throw new Error("No image src or srcSet provided");let r=new Image;e&&(r.src=e),s&&(r.srcset=s),a&&(r.sizes=a);const t=()=>{r.removeEventListener("load",t);const l=r.currentSrc;r=null,n(l)};r.addEventListener("load",t)}catch(r){c(`Error loading ${s}: ${r}`)}})}async function Q(e=1,s=1){return new Promise(a=>{const n=document.createElement("canvas"),c=n.getContext("2d");n.width=e,n.height=s,c.fillStyle="rgba(0, 0, 0, 0)",c.fillRect(0,0,e,s),n.toBlob(async r=>{if(!r)throw new Error("Video thumbnail failed to load");const t=URL.createObjectURL(r);n.remove(),a(t)})})}async function X({srcSet:e,sizes:s}){const a=await Promise.all(e.split(", ").map(async t=>{const[l,d]=t.split(" "),u=Number(d.replace("w","")),m=await Q(u);return{src:l,image:m,width:d}})),n=a.map(({image:t,width:l})=>`${t} ${l}`).join(", "),c=await K({srcSet:n,sizes:s});return a.find(t=>t.image===c).src}const Z="_image_4szht_2",ee="_container_4szht_42",te="_elementWrapper_4szht_49",se="_placeholder_4szht_71",ne="_element_4szht_49",ae="_button_4szht_104",w={image:Z,container:ee,elementWrapper:te,placeholder:se,element:ne,button:ae},ge=({className:e,style:s,reveal:a,delay:n=0,raised:c,src:r,srcSet:t,placeholder:l,...d})=>{const[u,m]=o.useState(!1),p=A(),g=o.useRef(null),_=r||(t?t.split(" ")[0]:""),S=J(g,!k(_)),b=o.useCallback(()=>{m(!0)},[]);return i.jsx("div",{className:V(w.image,e),"data-visible":S||u,"data-reveal":a,"data-raised":c,"data-theme":p,style:C({delay:z(n)},s),ref:g,children:i.jsx(oe,{delay:n,onLoad:b,loaded:u,inViewport:S,reveal:a,src:_,srcSet:t,placeholder:l,...d})})},oe=({onLoad:e,loaded:s,inViewport:a,srcSet:n,placeholder:c,delay:r=0,src:t,alt:l,play:d=!0,restartOnPause:u,reveal:m,sizes:p,width:g,height:_,noPauseButton:S,cover:b,...L})=>{const E=Y(),[M,q]=o.useState(!0),[P,x]=o.useState(!E),[j,R]=o.useState(void 0),[T,H]=o.useState(!1),B=o.useRef(null),f=o.useRef(null),y=k(t),W=a,F=G();o.useEffect(()=>{y&&n?(async()=>{const v=await X({srcSet:n,sizes:p});R(v)})():y&&R(t)},[y,p,t,n]),o.useEffect(()=>{if(!f.current||!j)return;const I=()=>{var h;x(!0),(h=f.current)==null||h.play()},v=()=>{var h;x(!1),(h=f.current)==null||h.pause()};d||(v(),u&&(f.current.currentTime=0)),!T&&(a?a&&!E&&d&&I():v())},[a,d,E,u,T,j]);const U=I=>{var v,h;I.preventDefault(),H(!0),(v=f.current)!=null&&v.paused?(x(!0),f.current.play()):(x(!1),(h=f.current)==null||h.pause())};return i.jsxs("div",{className:w.elementWrapper,"data-reveal":m,"data-visible":a||s,style:C({delay:z(r+1e3)}),children:[y&&F&&i.jsxs(o.Fragment,{children:[i.jsx("video",{muted:!0,loop:!0,playsInline:!0,className:w.element,"data-loaded":s,"data-cover":b,autoPlay:!E,onLoadStart:e,src:j,"aria-label":l,ref:f,...L}),!S&&i.jsxs(D,{className:w.button,onClick:U,children:[i.jsx(O,{icon:P?"pause":"play"}),P?"Pause":"Play"]})]}),!y&&i.jsx("img",{className:w.element,"data-loaded":s,"data-cover":b,onLoad:e,decoding:"async",src:W?t:void 0,srcSet:W?n:void 0,width:g,height:_,alt:l,sizes:p,...L}),M&&i.jsx("img",{"aria-hidden":!0,className:w.placeholder,"data-loaded":s,"data-cover":b,style:C({delay:z(r)}),ref:B,src:c,width:g,height:_,onTransitionEnd:()=>q(!1),decoding:"async",loading:"lazy",alt:"",role:"presentation"})]})};function k(e){return typeof e=="string"&&e.includes(".mp4")}const re="_list_1cydw_3",ce="_item_1cydw_29",$={list:re,item:ce},_e=({ordered:e=!1,children:s,className:a,...n})=>{const c=e?"ol":"ul";return i.jsx(c,{className:V($.list,a),...n,children:s})},be=({children:e,...s})=>i.jsx("li",{className:$.item,...s,children:e}),ie="_table_1bqvi_3",le="_row_1bqvi_13",de="_head_1bqvi_31",ue="_headCell_1bqvi_41",me="_cell_1bqvi_51",N={table:ie,row:le,head:de,headCell:ue,cell:me},ye=({children:e,...s})=>i.jsx("table",{className:N.table,...s,children:e}),Se=({children:e,...s})=>i.jsx("tr",{className:N.row,...s,children:e}),Ee=({children:e,...s})=>i.jsx("td",{className:N.cell,...s,children:e}),xe="/assets/webdev-CEWC20A0.svg",Ie="/assets/webdev-placeholder-CYyT73H-.svg";export{ge as I,_e as L,ye as T,Ie as a,be as b,Se as c,Ee as d,we as u,xe as w};
